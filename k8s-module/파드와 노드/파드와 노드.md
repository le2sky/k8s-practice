# 파드와 노드

## 1. 파드

**파드**: 하나 또는 그 이상의 애플리케이션 컨테이너들의 그룹을 나타내는 쿠버네티스의 추상적 개념

일부는 컨테이너에 대한 자원을 공유한다:

    - 볼륨과 같은 공유 스토리지
    - 클러스터 IP 주소와 같은 네트워킹
    - 컨테이너 이미지 버전과 사용할 특정 포트와 같이 컨테이너 동작 방식 정보
    - 특유한 로컬호스트 애플리케이션 모형을 만들어 상대적으로 밀접하게 결합되어진 상이한 애플리케이션 컨테이너들을 수용

파드 내 컨테이너는 IP 주소, 포트 스페이스를 공유하고 항상 함께 위치하고 함께
스케줄링 되고 동일 노드 상의 컨텍스트를 공유하면서 동작한다.

쿠버네티스에서 배포를 생성할 때, 그 배포는 컨테이너 내부에서 컨테이너와 함께 파드를 생성한다. 각 파드는 스케쥴 되어진 노드에게 묶여지게 된다.

<p align ="center">
    <img src="../resource/module_03_pods.svg">
</p>

## 2. 노드

**노드**: 쿠버네티스에서 워커 머신을 말하며 클러스터에 따라 가상 머신 혹은 물리 머신일 수 있다. 파드는 언제나 노드 상에서 동작한다.

    - 각 노드는 컨트롤 플레인에 의해 관리
    - 하나의 노드는 여러 개의 파드를 가질 수 있음
    - 컨트롤 플레인은 클러스터 내 노드를 통해서 파드에 대한 스케줄링을 자동 처리
    - 컨트롤 플레인 자동 스케줄링은 각 노드의 사용 가능한 리소스를 모두 고려

노드의 최소 동작 요소(노드 프로세스):

**kubelet** : 컨트롤 플레인과 노드간 통신을 책임지는 프로세스, 머신 상에서 동작하는 파드와 컨테이너를 관리

**컨테이너 런타임**: 레지스트리에서 컨테이너 이미지를 가져와 묶여 있는 것을 풀고 애플리케이션을 동작시키는 책임을 가짐

```
만약 컨테이너들이 밀접하게 결합되어 있고 디스크와 같은 자원을 공유해야 한다면
오직 하나의 단일 파드와 함께 스케쥴되어져야 한다.
```

<p align ="center">
    <img src="../resource/module_03_nodes.svg">
</p>

## 3. 보편적 운용 명령어

kubectl get: 자원 나열

kubectl describe: 자원에 대한 상세한 정보를 보여준다.

kubectl logs: 파드 내 컨테이너의 로그들을 출력

kubectl exec: 파드 내 컨테이너에 대한 명령을 실행
