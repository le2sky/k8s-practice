# kubectl을 사용해서 디플로이먼트 생성하기

## 1. 쿠버네티스 디플로이먼트

쿠버네티스 클러스터를 구동시키면 컨테이너화된 애플리케이션을 배포할 수 있다.
하지만 배포하기 이전에 쿠버네티스 디플로이먼트 설정을 만들어야 한다.

**디플로이먼트**: 쿠버네티스가 애플리케이션의 인스턴스를 어떻게 생성하고 업데이트해야 하는지를 지시한다.

    - 디플로이먼트가 만들어지면 k8s 컨트롤 플레인이 디플로이먼트에 포함된 애플리케이션 인스턴스가 클러스터의 개별 노드에 실행되도록 스케줄 함

    - 쿠버네티스 디플로이먼트 컨트롤러가 지속적으로 인스턴스를 모니터링

    - 인스턴스를 구동 중인 노드가 다운되거나 삭제되면, 디플로이먼트 컨트롤러가 인스턴스를 클러스터 내부의 다른 노드의 인스턴스로 교체 시킴
    이렇게 머신의 장애나 정비에 대응할 수 있는 자동 복구(self-healing) 매커니즘을 제공한다.

```
일반적으로 인스턴스는 실행 중인 임의의 프로세스, 클래스의 현재 생성된 오브젝트를 의미한다. 컴퓨터 과학에서 인스턴스란 해당 클래스의 구조로 컴퓨터
저장공간에서 할당된 실체를 의미한다.

출처: 위키
```

## 2. Kubectl

Kubectl은 쿠버네티스 cli이다. 이것을 통해 디플로이먼트를 생성하고 관리할 수 있다.

    - 클러스터와 상호작용하기 위해 쿠버네티스 API를 사용한다.
    - 디플로이먼트를 생성할 때, 애플리케이션에 대한 컨테이너 이미지와 구동시키고자 하는 복제 수를 지정해야 한다.
    - 디플로이먼트를 업데이트해서 이런 정보를 나중에 변경할 수 있다.
